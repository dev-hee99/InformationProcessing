## 2. 데이터 입출력 구현

### Data Model(데이터모델)
- 현실 세계의 정보를 인간과 컴퓨터가 이해할 수 있도록 추상화하여 표현한 모델

#### 데이터 모델에 표시할 요소(구연제)
- 구조(Structure)
- 연산(Operation)
- 제약 조건(Constraint)


#### 논리 데이터 모델링 속성

- 개체(Entity)
- 속성(Attributes)
- 관계(Relationship)

#### 관계 데이터 모델
- 튜플, 행, 카디널리티(cardinality) : 릴레이션을 구성하는 각각의 행
- 속성, 열, 차수(degree) : 데이터베이스를 구성하는 가장 작은 논리적 단위, 데이터 필드


#### E-R(개체-관계) 모델
- 데이터와 그들간의 관계를 사람이 이해할 수 있는 형태로 표현한 모델

---
### 관계 대수 및 관계 해석

#### 관계 대수

- 관계형 데이터베이스에서 원하는 정보와 그 정보를 어떻게 유도하는가를 기술하는 **[절차적 언어]**

>일반 집합 연산자
>- 합집합(Union): ∪
>- 교집합(Intersection): ∩
>- 차집합(Difference): －
>- 카티션 프로덕트(CARTESIAN Product): ×

>순수 관계 연산자
>- 셀렉트(Select): σ
>- 프로젝트(Project): π
>- 조인(Join): ⋈
>- 디비전(Division): ÷


#### 관계 해석

- 튜플 관계해석과 도메인 해석을 하는 **[비절차적 언어]**

---

### Database(데이터베이스)



#### DB 정의
- [**공용**]으로 사용될 데이터를 중복 배제하여 [**통합**]하고, 
저장매체에 [**저장**]하여 항상 사용 할 수 있도록 [**운영**]하는 운영데이터 

#### DB 특성
- 실시간 접근성 : 쿼리에 대하여 실시간 응답이 가능해야 함
- 계속적인 변화 : 새로운 데이터의 삽입, 삭제, 갱신으로 항상 최신의 데이터를 유지
- 동시공용 : 다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야함
- 내용참조 : 사용자가 요구하는 데이터 내용으로 데이터를 찾음

#### 데이터베이스 설계 순서

1. 요구 조건 분석 - 요구 조건 명세서 작성
2. 개념적 설계 : 현실세계에 대한 인식을 추상적 개념으로 표현하는 과정 (개념 스키마, 트랜잭션 모델링, E-R 모델링)

3. 논리적 설계 : 현실 세계에서 발생하는 자료를 특정 DBMS가 지원하는 논리적 자료 구조로 변환 시키는 과정 (목표 DBMS에 맞는 논리 스키마 설계, 트랜잭션 인터페이스 설계)
4. 물리적 설계 : 논리적 구조로 표현된 데이터를 물리적 구조의 데이터로 변환하는 과정 (목표 DBMS에 맞는 물리적 구조의 데이터 변환)
5. 구현 - 목표 DBMS의 DDL(데이터 정의어)로 데이터베이스 생성, 트랜잭션 작성
 

### 스키마(Schema)
데이터베이스의 구조와 제약조건에 관한 전반적인 명세를 기술한 것

> - 외부스키마 : 
> - 개념스키마 : 데이터베이스의 전체적인 논리적 구조 
> - 내부 스키마 : 물리적 저장장치의 입장에서 본 데이터베이스 구조 



---

### DBMS(데이터베이스 관리 시스템)
~~~
사용자의 요구에 따라 정보를 생성해주고, 데이터베이스 관리를 해주는 소프트웨어 
~~~

#### 필수 기능
- 정의 기능
- 조작 기능
- 제어 기능

---

### 이상(Anomaly)
테이블에서 데이터의 중복이 발생하고, 이 중복(Redundancy)으로 문제가 발생하는 현상
> - 삽입 이상
> - 삭제 이상
> - 갱신 이상


---
### 정규화 반정규화

#### 정규화
- 데이터 모델에서 데이터의 중복성을 제거하여 **이상 현상**을 방지하고, 데이터의 **일관성**과 **정확성**을 유지하기 위해 **무손실 분해**하는 과정

> 정규화 단계 (도부이결다조)
> - 1정규형(1NF) : 도메인이 원자값으로 구성 (각 컬럼이 하나의 속성만을 가져야한다.)
> - 2정규형(2NF) : 부분 함수 종속 제거(완전 함수적 종속을 만족) (기본키의 부분집합이 결정자가 되어서는 안됨)
> - 3정규형(3NF) : 이행 함수 종속제거 (A=B, B=C 일 때 A=C)
> - 보이스-코드 정규형(BCNF) : 결정자 후보 키가 아닌 함수 종속 제거
> - 4정규형(4NF) : 다치 종속(다중 값) 종속제거
> - 5정규형(5NF) : 조인 종속 제거

#### 반정규화
- 정규화된 데이터 모델을 의도적으로 **통합**, **중복**, **분리** 하여 정규화 원칙을 위배하는 행위

> 1. 테이블 통합
> 2. 테이블 분할
>   > - 수평분할 : **레코드** 기준 테이블 분할 (레코드별 사용 빈도의 차이가 큰 경우)
>   > - 수직분할 : **속성** 기준 테이블 분할 (속성이 많을 경우)
> 3. 중복 테이블 추가

---

### 시스템 카탈로그
- 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스 

#### 메타 데이터(Meta-Data)
- 시스템 카탈로그에 저장된 정보

> 메타데이터 유형 
> -  DB 객체 정보 : 테이블, 인덱스, 뷰 등의 구조 및 통계정보
> -  사용자 정보
> - 테이블의 무결성 제약 조건 정보 : 기본키, 외래키 


---

### 트랜잭션 분석 / CRUD 분석

#### 트랜잭션
- 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 모두 수행되어야 할 일련의 연산

> 트랜잭션 특성
> - 원자성(Atomicity) : 연산은 DB에 모두 반영되도록 Commit되든지 아니면 전혀 반영되지 않도록 Rollback 되어야함
> - 일관성(Consistency) : 연산이 성공적으로 Commit 되면 언제나 일관성 있는 DB 상태로 변환함 
> - 독립성, 격리성, 순차성(Isolation) : 트랜잭션이 병행 실행되는 경우 하나의 트랜잭션이 실행중 다른 트랜잭션이 끼어들 수 없음
> - 영속성, 지속성(Durability) : 성공적으로 Commit된 결과는 시스템이 고장나더라도 영구적으로 반영되어야 함


---

### 인덱스(Index)
- 데이터 레코드를 빠르게 접근하기 위해 **'키값과 포인터'** 쌍으로 구성되는 데이터 구조
  - 클러스터드 인덱스 : 인덱스 키의 순서에 따라 데이터가 정렬되어 저장되는 방식
  - 넌클러스터드 인덱스 : 인덱스의 키값만 정렬되어 있고 실제 데이터는 정렬되지 않는 방식 

---
### 뷰/클러스터
#### 뷰(View)
- 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나 이상의 기본테이블로 구성된 가상테이블
#### 클러스터(Cluster)
- 데이터 저장시  데이터 액세스 효율을 향상시키기 위해 동일한 성격의 데이터를 동일한 데이터 블록에 저장하는 물리적 저장 방법, 클러스터의 분포도가 넓을수록 유리하다.
> 단일 테이블 클러스터링 : 처리 범위가 넓은 경우<br> 
> 다중 테이블 클러스터링 : 조인이 많이 발생하는 경우
---
### 파티션(Partition)
- 대용량의 테이블이나 인덱스를 작은 논리적 단위인 파티션으로 나누는 것

--- 

### 데이터베이스 이중화/서버 클러스터링

#### 데이터베이스 이중화 
- 동일 데이터베이스를 복제하여 관리하는 것

데이터베이스 이중화의 분류
>- Eager 기법 : 트랜잭션 수행중 데이터 변경시 이중화된 모든 데이터베이스에 즉시 전달 변경 내용 적용
>- Lazy 기법 : 트랜잭션의 수행이 종료되면 변경 사실을 새로운 트랜잭션에 작성하여 각 데이터베이스에 전달

데이터베이스 이중화 구성 방법
>- Active-Standby : Active 상태의 DB가 장애가 발생하면 대기하고 있던 Standby DB가 Active 역할을 수행
>- Active-Active : 두 개의 DB가 서로 다른 서비스를 제공하다 둘중 한 대에 문제가 발생하면 나머지 DB가 서비스를 제공 

#### 클러스터링
- 두 대 이상의 서버를 하나의 서버처럼 운영하는 기술
>- 고가용성(HA) 클러스터링
>- 병렬 처리 클러스터링

#### RTO(Recovery Time Objective) : 목표 복구 시간
#### RPO(Recovery Point Objective) : 목표 복구 시점

---

### 스토리지
>#### DAS(Direct Attached Storage) : 서버와 저장장치를 전용 케이블로 직접 연결하는 방식
>#### NAS(Network Attached Storage) : 서버와 저장장치를 네트워크를 통해 연결하는 방식
>#### SAN(Storage Area Network) : 서버와 저장장치를 연결하는 전용 네트워크를 별도로 구성하는 방식

---